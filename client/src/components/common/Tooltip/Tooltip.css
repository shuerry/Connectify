/* Advanced Tooltip Component */
.tooltip {
  position: relative;
  display: inline-block;
}

.tooltip__trigger {
  display: inline-block;
  cursor: help;
}

.tooltip__content {
  position: absolute;
  z-index: var(--z-tooltip);
  opacity: 0;
  visibility: hidden;
  transform: scale(0.95);
  transition: all var(--transition-fast);
  pointer-events: none;
}

.tooltip__content--visible {
  opacity: 1;
  visibility: visible;
  transform: scale(1);
}

/* Tooltip Inner Content */
.tooltip__inner {
  background: var(--gray-800);
  color: var(--white);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  font-size: var(--text-sm);
  line-height: var(--leading-snug);
  box-shadow: var(--shadow-lg);
  backdrop-filter: var(--backdrop-blur-sm);
  max-width: 100%;
  word-wrap: break-word;
}

[data-theme="dark"] .tooltip__inner {
  background: var(--gray-700);
  border: 1px solid var(--gray-600);
}

/* Tooltip Arrow */
.tooltip__arrow {
  position: absolute;
  width: 8px;
  height: 8px;
  background: var(--gray-800);
  transform: rotate(45deg);
}

[data-theme="dark"] .tooltip__arrow {
  background: var(--gray-700);
  border: 1px solid var(--gray-600);
}

/* Positioning - Top */
.tooltip__content--top {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) scale(0.95);
  margin-bottom: 8px;
}

.tooltip__content--top.tooltip__content--visible {
  transform: translateX(-50%) scale(1);
}

.tooltip__content--top .tooltip__arrow {
  top: 100%;
  left: 50%;
  transform: translateX(-50%) rotate(45deg);
  margin-top: -4px;
}

/* Positioning - Bottom */
.tooltip__content--bottom {
  top: 100%;
  left: 50%;
  transform: translateX(-50%) scale(0.95);
  margin-top: 8px;
}

.tooltip__content--bottom.tooltip__content--visible {
  transform: translateX(-50%) scale(1);
}

.tooltip__content--bottom .tooltip__arrow {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) rotate(45deg);
  margin-bottom: -4px;
}

/* Positioning - Left */
.tooltip__content--left {
  right: 100%;
  top: 50%;
  transform: translateY(-50%) scale(0.95);
  margin-right: 8px;
}

.tooltip__content--left.tooltip__content--visible {
  transform: translateY(-50%) scale(1);
}

.tooltip__content--left .tooltip__arrow {
  left: 100%;
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
  margin-left: -4px;
}

/* Positioning - Right */
.tooltip__content--right {
  left: 100%;
  top: 50%;
  transform: translateY(-50%) scale(0.95);
  margin-left: 8px;
}

.tooltip__content--right.tooltip__content--visible {
  transform: translateY(-50%) scale(1);
}

.tooltip__content--right .tooltip__arrow {
  right: 100%;
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
  margin-right: -4px;
}

/* Tooltip Variants */
.tooltip--error .tooltip__inner {
  background: var(--error-600);
  color: var(--white);
}

.tooltip--error .tooltip__arrow {
  background: var(--error-600);
}

.tooltip--success .tooltip__inner {
  background: var(--success-600);
  color: var(--white);
}

.tooltip--success .tooltip__arrow {
  background: var(--success-600);
}

.tooltip--warning .tooltip__inner {
  background: var(--warning-500);
  color: var(--white);
}

.tooltip--warning .tooltip__arrow {
  background: var(--warning-500);
}

.tooltip--info .tooltip__inner {
  background: var(--primary-600);
  color: var(--white);
}

.tooltip--info .tooltip__arrow {
  background: var(--primary-600);
}

.tooltip--light .tooltip__inner {
  background: var(--white);
  color: var(--gray-800);
  border: 1px solid var(--gray-200);
  box-shadow: var(--shadow-lg);
}

.tooltip--light .tooltip__arrow {
  background: var(--white);
  border: 1px solid var(--gray-200);
}

/* Tooltip Sizes */
.tooltip--sm .tooltip__inner {
  padding: var(--space-1) var(--space-2);
  font-size: var(--text-xs);
}

.tooltip--lg .tooltip__inner {
  padding: var(--space-3) var(--space-4);
  font-size: var(--text-base);
}

/* Rich Content Tooltips */
.tooltip__rich-content {
  min-width: 200px;
  max-width: 300px;
}

.tooltip__rich-content .tooltip__title {
  font-weight: 600;
  margin-bottom: var(--space-1);
}

.tooltip__rich-content .tooltip__description {
  opacity: 0.9;
  line-height: var(--leading-relaxed);
}

/* Interactive Tooltips */
.tooltip--interactive .tooltip__content {
  pointer-events: auto;
}

.tooltip--interactive .tooltip__inner {
  cursor: default;
}

/* Animation Delays for Better UX */
.tooltip--delay-100 .tooltip__content {
  transition-delay: 100ms;
}

.tooltip--delay-200 .tooltip__content {
  transition-delay: 200ms;
}

.tooltip--delay-300 .tooltip__content {
  transition-delay: 300ms;
}

/* Responsive Design */
@media (max-width: 768px) {
  .tooltip__inner {
    font-size: var(--text-xs);
    padding: var(--space-2);
    max-width: 250px;
  }
  
  .tooltip__rich-content {
    min-width: 180px;
    max-width: 250px;
  }
  
  /* On mobile, always show tooltips at bottom to avoid viewport issues */
  .tooltip__content--top,
  .tooltip__content--left,
  .tooltip__content--right {
    top: 100%;
    bottom: auto;
    left: 50%;
    right: auto;
    transform: translateX(-50%) scale(0.95);
    margin-top: 8px;
    margin-bottom: 0;
    margin-left: 0;
    margin-right: 0;
  }
  
  .tooltip__content--top.tooltip__content--visible,
  .tooltip__content--left.tooltip__content--visible,
  .tooltip__content--right.tooltip__content--visible {
    transform: translateX(-50%) scale(1);
  }
  
  .tooltip__content--top .tooltip__arrow,
  .tooltip__content--left .tooltip__arrow,
  .tooltip__content--right .tooltip__arrow {
    bottom: 100%;
    left: 50%;
    top: auto;
    right: auto;
    transform: translateX(-50%) rotate(45deg);
    margin: -4px 0 0 0;
  }
}

/* High Contrast Support */
@media (prefers-contrast: high) {
  .tooltip__inner {
    border: 2px solid var(--gray-600);
  }
  
  .tooltip--light .tooltip__inner {
    border: 2px solid var(--gray-400);
  }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .tooltip__content {
    transition: opacity var(--transition-fast);
    transform: none !important;
  }
  
  .tooltip__content--visible {
    transform: none !important;
  }
  
  .tooltip__content--top,
  .tooltip__content--bottom,
  .tooltip__content--left,
  .tooltip__content--right {
    transform: none !important;
  }
}